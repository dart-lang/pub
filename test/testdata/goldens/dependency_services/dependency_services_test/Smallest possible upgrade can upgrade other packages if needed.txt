# GENERATED BY: test/dependency_services/dependency_services_test.dart

$ cat pubspec.yaml
{"name":"myapp","dependencies":{"foo":"^1.0.0","bar":"^1.0.0"},"environment":{"sdk":"^3.0.2"}}
$ cat pubspec.lock
# Generated by pub
# See https://dart.dev/tools/pub/glossary#lockfile
packages:
  bar:
    dependency: "direct main"
    description:
      name: bar
      sha256: "8cd4b5a00de63aa592f4240249affd87abf49de4281233870f22b30919f87d42"
      url: "http://localhost:$PORT"
    source: hosted
    version: "1.0.0"
  foo:
    dependency: "direct main"
    description:
      name: foo
      sha256: "6f20056a28b780546e364af618f5c357863660259f8df4431c7fd12ccb8b4372"
      url: "http://localhost:$PORT"
    source: hosted
    version: "1.1.1"
sdks:
  dart: ">=3.0.2 <4.0.0"
-------------------------------- END OF OUTPUT ---------------------------------

## Section report
$ echo '{"target":"foo","disallowed":[{"name":"foo","url":"http://localhost:$PORT","versions":[{"range":"1.1.1"},{"range":"2.0.0"}]},{"name":"bar","url":"http://localhost:$PORT","versions":[{"range":"2.0.0"}]}]}' | dependency_services report
{
  "dependencies": [
    {
      "name": "foo",
      "version": "1.1.1",
      "kind": "direct",
      "source": {
        "type": "hosted",
        "description": {
          "name": "foo",
          "url": "http://localhost:$PORT",
          "sha256": "6f20056a28b780546e364af618f5c357863660259f8df4431c7fd12ccb8b4372"
        }
      },
      "latest": "2.0.2",
      "constraint": "^1.0.0",
      "compatible": [],
      "singleBreaking": [],
      "multiBreaking": [
        {
          "name": "foo",
          "version": "2.0.2",
          "kind": "direct",
          "source": {
            "type": "hosted",
            "description": {
              "name": "foo",
              "url": "http://localhost:$PORT",
              "sha256": "2fe8aa833d5a1c720c47cde975d63ff8cd1436da5a13b9ff413eb2b489bdf850"
            }
          },
          "constraintBumped": "^2.0.2",
          "constraintWidened": ">=1.0.0 <3.0.0",
          "constraintBumpedIfNeeded": "^2.0.2",
          "previousVersion": "1.1.1",
          "previousConstraint": "^1.0.0",
          "previousSource": {
            "type": "hosted",
            "description": {
              "name": "foo",
              "url": "http://localhost:$PORT",
              "sha256": "6f20056a28b780546e364af618f5c357863660259f8df4431c7fd12ccb8b4372"
            }
          }
        },
        {
          "name": "bar",
          "version": "2.2.0",
          "kind": "direct",
          "source": {
            "type": "hosted",
            "description": {
              "name": "bar",
              "url": "http://localhost:$PORT",
              "sha256": "3c51e3f45f9b993f18c64ab5c55e5f8149c98bac06b0c3e9100fef98385afe4f"
            }
          },
          "constraintBumped": "^2.2.0",
          "constraintWidened": ">=1.0.0 <3.0.0",
          "constraintBumpedIfNeeded": "^2.2.0",
          "previousVersion": "1.0.0",
          "previousConstraint": "^1.0.0",
          "previousSource": {
            "type": "hosted",
            "description": {
              "name": "bar",
              "url": "http://localhost:$PORT",
              "sha256": "8cd4b5a00de63aa592f4240249affd87abf49de4281233870f22b30919f87d42"
            }
          }
        }
      ],
      "smallestUpdate": [
        {
          "name": "foo",
          "version": "2.0.1",
          "kind": "direct",
          "source": {
            "type": "hosted",
            "description": {
              "name": "foo",
              "url": "http://localhost:$PORT",
              "sha256": "3fc65bb8d960eb60a8ff969ba138df09de120b4e05dbde7a45b7f77aba179237"
            }
          },
          "constraintBumped": "^2.0.1",
          "constraintWidened": ">=1.0.0 <3.0.0",
          "constraintBumpedIfNeeded": "^2.0.1",
          "previousVersion": "1.1.1",
          "previousConstraint": "^1.0.0",
          "previousSource": {
            "type": "hosted",
            "description": {
              "name": "foo",
              "url": "http://localhost:$PORT",
              "sha256": "6f20056a28b780546e364af618f5c357863660259f8df4431c7fd12ccb8b4372"
            }
          }
        },
        {
          "name": "bar",
          "version": "2.2.0",
          "kind": "direct",
          "source": {
            "type": "hosted",
            "description": {
              "name": "bar",
              "url": "http://localhost:$PORT",
              "sha256": "3c51e3f45f9b993f18c64ab5c55e5f8149c98bac06b0c3e9100fef98385afe4f"
            }
          },
          "constraintBumped": "^2.2.0",
          "constraintWidened": ">=1.0.0 <3.0.0",
          "constraintBumpedIfNeeded": "^2.2.0",
          "previousVersion": "1.0.0",
          "previousConstraint": "^1.0.0",
          "previousSource": {
            "type": "hosted",
            "description": {
              "name": "bar",
              "url": "http://localhost:$PORT",
              "sha256": "8cd4b5a00de63aa592f4240249affd87abf49de4281233870f22b30919f87d42"
            }
          }
        }
      ]
    }
  ]
}

-------------------------------- END OF OUTPUT ---------------------------------

$ cat pubspec.yaml
{"name":"myapp","dependencies":{"foo":"^1.0.0","bar":"^1.0.0"},"environment":{"sdk":"^3.0.2"}}
$ cat pubspec.lock
# Generated by pub
# See https://dart.dev/tools/pub/glossary#lockfile
packages:
  bar:
    dependency: "direct main"
    description:
      name: bar
      sha256: "8cd4b5a00de63aa592f4240249affd87abf49de4281233870f22b30919f87d42"
      url: "http://localhost:$PORT"
    source: hosted
    version: "1.0.0"
  foo:
    dependency: "direct main"
    description:
      name: foo
      sha256: "6f20056a28b780546e364af618f5c357863660259f8df4431c7fd12ccb8b4372"
      url: "http://localhost:$PORT"
    source: hosted
    version: "1.1.1"
sdks:
  dart: ">=3.0.2 <4.0.0"
