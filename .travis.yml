language: dart
sudo: false

dart:
  - dev

dart_task:
  - ./tool/test.sh test/deps_test.dart -n 'lists all dependencies in list form'

# Create a snapshot to improve startup time. Tests will automatically use this
# snapshot if it's available.
#before_script:
#  - dart --snapshot=bin/pub.dart.snapshot.dart2 bin/pub.dart

# Only building these branches means that we don't run two builds for each pull
# request.
branches:
  only: [master, travis, /^feature\./]

cache:
  directories:
    - $HOME/.pub-cache
